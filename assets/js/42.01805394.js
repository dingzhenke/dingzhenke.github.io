(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{459:function(e,t,s){"use strict";s.r(t);var i=s(2),l=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p"),t("div",{staticClass:"table-of-contents"},[t("ul")]),e._v("\nredis支持通过expire命令为key设置过期时间，到了过期时间之后，该key就不再能够被访问，除非重新设置，就像被删除了一样，这次我们就来说一下redis到底是如何实现这个功能的。"),t("p"),e._v(" "),t("p",[e._v("redis数据库中除了保存键值对之外，还有一个过期字典，记录着键和它的过期时间。redis通过这个字典来判断key有没有过期，那key过期后，什么时候删除它呢，一般有三种方式。")]),e._v(" "),t("ol",[t("li",[e._v("定时删除：在设置key的过期时间的同时，设置定时器，到点后立即删除。")]),e._v(" "),t("li",[e._v("惰性删除：放任过期键不管，只有使用到该键的时候，才判断它有没有过期，过期则删除。")]),e._v(" "),t("li",[e._v("定期删除：周期性检查部分键，删除过期的键。")])]),e._v(" "),t("p",[e._v("第一种对内存时最有好的，但是对CPU不是很友好，第二种对内存非常不友好，可能会累积大量过期的键。对于依赖内存的redis来说，不是一个好消息。第三种是前两种的折中方案。redis采用的是2、3两种方法相结合。")])])}),[],!1,null,null,null);t.default=l.exports}}]);