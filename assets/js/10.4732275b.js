(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{414:function(t,a,s){t.exports=s.p+"assets/img/bio.eba2bf47.png"},415:function(t,a,s){t.exports=s.p+"assets/img/nio.1307feef.png"},416:function(t,a,s){t.exports=s.p+"assets/img/aio.fc1da50c.png"},434:function(t,a,s){"use strict";s.r(a);var e=s(2),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#为什么要了解io类型"}},[t._v("为什么要了解io类型")])]),a("li",[a("a",{attrs:{href:"#bio"}},[t._v("BIO")])]),a("li",[a("a",{attrs:{href:"#nio"}},[t._v("NIO")])]),a("li",[a("a",{attrs:{href:"#aio"}},[t._v("AIO")])]),a("li",[a("a",{attrs:{href:"#解答"}},[t._v("解答")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"为什么要了解io类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要了解io类型"}},[t._v("#")]),t._v(" 为什么要了解io类型")]),t._v(" "),a("p",[t._v("老是看到说NIO比BIO好，但是为什么好却不知道，本着知其然，知其所以然的想法，了解一下各种IO的本质。")]),t._v(" "),a("h2",{attrs:{id:"bio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bio"}},[t._v("#")]),t._v(" BIO")]),t._v(" "),a("p",[t._v("BIO：即阻塞IO，应用进程从调用该IO操作直到数据准备好，并把数据从内核复制到用户空间这段时间，调用一直阻塞。\n"),a("img",{attrs:{src:s(414),alt:"BIO img"}})]),t._v(" "),a("h2",{attrs:{id:"nio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nio"}},[t._v("#")]),t._v(" NIO")]),t._v(" "),a("p",[t._v("NIO：应用进程调用select，阻塞直到任何一条连接变为可读状态，java中可以使用多线程，只有selector线程阻塞，而io读写线程可以不阻塞，当selector管理的线程较多的时候，提高系统运行效率。\n"),a("img",{attrs:{src:s(415),alt:"NIO img"}})]),t._v(" "),a("h2",{attrs:{id:"aio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aio"}},[t._v("#")]),t._v(" AIO")]),t._v(" "),a("p",[t._v("AIO：又称为异步IO，应用进程调用IO请求后，可以直接返回，内核把IO操作处理完之后（等待数据就绪以及将数据拷贝到用户空间）异步通知应用进程。\n"),a("img",{attrs:{src:s(416),alt:"AIO img"}})]),t._v(" "),a("h2",{attrs:{id:"解答"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解答"}},[t._v("#")]),t._v(" 解答")]),t._v(" "),a("p",[t._v("对比BIO和NIO的图，可以看出BIO在调用IO请求后，线程一直处于阻塞状态，当有大量连接时，就需要大量的线程来管理这些连接，更严重的是其中可能大都处于阻塞状态，这就浪费了机器资源。而对于NIO来说，它是受阻于select调用，该调用管理多个连接，也即是说可以用一个线程来管理多个连接，当检测到一个连接数据就绪时，将数据传到工作线程，select线程专注于管理连接。")]),t._v(" "),a("p",[t._v("这里也有一个注意的点，就是一个select线程随着管理连接数量的提升，延迟会增大，因为需要遍历所有连接以便找到就绪的连接，这时就可以用多个select线程，每个只管理部分连接。")]),t._v(" "),a("p",[t._v("在研究BIO和NIO时，看到一个新的概念AIO，理论上来说AIO比NIO性能更好，netty也曾尝试应用AIO，但是测试性能未达预期，不知后续会不会继续尝试。")])])}),[],!1,null,null,null);a.default=r.exports}}]);